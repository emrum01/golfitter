# 画面概要

この画面は、AIによるユーザーデータ分析結果を表示します。入力された身体データとプレイ情報を基に、最適なプロゴルファーとのマッチング結果、推奨クラブセット、スイングフォーム改善提案を提供します。

# 画面仕様

## 基本情報

| 項目           | 内容                         |
| -------------- | ---------------------------- |
| ページタイトル | 診断結果                     |
| 画面ID         | DIAGNOSIS_RESULTS_001        |
| 本番URL        | / (currentStep='results')    |
| storybook      | -                           |

## 画面の状態管理

| **初期表示** | マッチしたプロゴルファー情報と推奨クラブセットを表示 |
| ------------ | ------------------------------------------------------ |

## 画面要素

### ヘッダー部

**出力項目一覧**

| 項目名   | 説明   |
| -------- | ------ |
| タイトル | 「診断結果」を表示 |
| サブタイトル | 「あなたに最適なプロゴルファーとクラブセットをご提案します」を表示 |

### プロゴルファーマッチングカード

**出力項目一覧**

| 項目名   | 説明   |
| -------- | ------ |
| カードタイトル | 「マッチしたプロゴルファー」 |
| プロゴルファー画像 | アバター形式で表示 |
| プロゴルファー名 | マッチしたプロの氏名 |
| 身長 | プロの身長（cm） |
| 体重 | プロの体重（kg） |
| 腕の長さ | プロの腕の長さ（cm） |
| 筋力レベル | プロの筋力レベル（1-5） |
| 主な実績 | achievements配列をリスト表示 |

### 推奨クラブセットカード

**出力項目一覧**

| 項目名   | 説明   |
| -------- | ------ |
| カードタイトル | 「推奨クラブセット」 |
| ドライバー | マッチしたプロが使用するドライバー |
| アイアン | マッチしたプロが使用するアイアン |
| ウェッジ | マッチしたプロが使用するウェッジ |
| パター | マッチしたプロが使用するパター |
| 予算範囲 | ユーザーが入力した予算 |
| 予算適合メッセージ | 「予算内で購入可能なクラブセットです」 |

### スイングフォーム提案カード

**出力項目一覧**

| 項目名   | 説明   |
| -------- | ------ |
| カードタイトル | 「スイングフォーム提案」 |
| スイング動画 | プロのスイング動画（現在はプレースホルダー画像） |
| アドレス改善提案 | 体型の類似性に基づくアドレスの改善ポイント |
| バックスイング改善提案 | 腕の長さの類似性に基づくバックスイングの改善ポイント |
| フォロースルー改善提案 | 筋力レベルの類似性に基づくフォロースルーの改善ポイント |

### アクションボタン

**出力項目一覧**

| 項目名   | 説明   |
| -------- | ------ |
| 再診断するボタン | ユーザー情報入力画面へ戻る |
| スイング分析ボタン | スイング分析画面へ遷移 |
| 結果を保存ボタン | 診断結果の保存（未実装） |

## 使用API

| 項目名       | 機能       |
| ------------ | ---------- |
| /api/save-results | 診断結果の保存（未実装） |

## エラー／例外ケース

| エラー概要   | エラーメッセージ   | エラー原因   |
| ------------ | ------------------ | ------------ |
| マッチングエラー | -              | プロゴルファーデータが存在しない |

## 権限による表示制御

| 権限     | アクセス可能URL   | 表示内容   |
| -------- | ----------------- | ---------- |
| 全ユーザー | /                | 全コンテンツ |

## 状態／シナリオ別表示仕様

| 状態／シナリオ | 条件                           | 表示／非表示／制御内容               | 備考                     |
| -------------- | ------------------------------ | ------------------------------------ | ------------------------ |
| 診断結果表示   | currentStep='results'かつmatchedProが存在 | 全診断結果を表示 | -                    |
| 再診断実行     | 再診断するボタンクリック        | ユーザー情報入力画面へ遷移          | currentStep='input'に変更 |
| スイング分析遷移 | スイング分析ボタンクリック    | スイング分析画面へ遷移              | currentStep='swing-analysis'に変更 |

# 画面遷移元

| 権限     | 遷移元   | アクション   |
| -------- | -------- | ------------ |
| 全ユーザー | ユーザー情報入力画面 | AI診断を開始ボタンクリック |
| 全ユーザー | スイング分析画面 | 診断結果に戻るボタンクリック |

## アクション一覧

| タイトル   | アクション方法   | 説明   |
| ---------- | ---------------- | ------ |
| 再診断する | ボタンクリック | setCurrentStep('input')を実行 |
| スイング分析 | ボタンクリック | setCurrentStep('swing-analysis')を実行 |
| 結果を保存 | ボタンクリック | 未実装（将来的にSupabaseへ保存予定） |

# 備考

- マッチングアルゴリズムによって選ばれたプロゴルファーの情報を表示
- 現在、プロゴルファーデータは3名のモックデータ（田中太郎、佐藤花子、山田次郎）
- 各改善提案は、ユーザーとプロの身体的類似性に基づいてカスタマイズされる
- レスポンシブデザイン対応（グリッドレイアウトでmd以上で2カラム表示）
- 結果保存機能は未実装だが、UIボタンは配置済み